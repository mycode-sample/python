迭代器类似于java中的iterator方法，比如`list.iterator()`。

迭代器有两个基本方法，`iter()`和`next()`。前者用于创建迭代器，后者用于访问迭代器中的下一个元素。需要注意的是，迭代器只能前进，不能后退。

```python
l = [1,2,3]
it = iter(list)
```

迭代器可以使用`for`来遍历：
```python
for ele in iter(list):
  print(ele)
```

# 创建迭代器

创建迭代器需要在类中实现`__next__()`和`__iter__()`方法。

## StopIteration

该异常用于标识迭代的完成，防止出现死循环。我们可以在`__next__()`方法中设置迭代次数上限：
```python

```

# 生成器

使用`yield`关键字修饰的方法称为生成器。生成器会返回一个迭代器，因此生成器只能用于迭代操作。

在调用生成器时，若遇到`yield`，则函数会暂停执行并保存当前所有运行信息（变量、调用栈，调用栈），然后返回`yield`的值。下一次调用`next()`时，会从上一次暂停时的状态开始继续运行。

生成器的示例代码是一个生成斐波那契数列的函数。在这个函数中，给定初值后，他会根据给定规则输出一串数列。当遇到`yield`时，函数会暂停执行，然后保存当前的变量值`a`和`b`，然后返回`a`。如果只保存`a`和`b`，那么下一次运行时我们不知道这是第几次运行，也就无法输出一个完整的序列，因此还需要保存函数调用次数，也就是调用栈。调用栈包含了函数入参以及返回值。有了变量信息和调用栈后，就可以通过生成器来输出一个完整的数列。

如果打开debug，可以很清楚的看到生成器的执行方式。
